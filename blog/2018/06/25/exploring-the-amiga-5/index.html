<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
        <title>Exploring the Amiga - Part 5 - The Digital Cat</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<meta name="description" content="List management in Kickstart 1.3">
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@thedigicat" />
<meta name="twitter:title" content="Exploring the Amiga - Part 5" />
<meta name="twitter:description" content="List management in Kickstart 1.3" />
<meta name="twitter:image" content="https://www.thedigitalcatonline.com/images/exploring-the-amiga-5.jpg" />
		<script src="https://kit.fontawesome.com/15214b60ba.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,400italic,600italic|Roboto+Slab:400,700">

        <link rel="stylesheet" href="/theme/css/main.min.css?59943907">

<link rel="stylesheet" href="/theme/css/retro.min.css?d93687f1">
        
        <link href="/images/global/favicon.jpg" rel="icon">

        <!-- Google Analytics Universal -->
        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-74364524-1', 'auto');
            ga('send', 'pageview');
        </script>
        <!-- End Google Analytics Universal Code -->

<script type="application/ld+json">
  {
      "@context" : "https://schema.org",
      "@type" : "Article",
      "name" : "Exploring the Amiga - Part 5",
      "author" : {
	  "@type" : "Person",
	  "name" : "Leonardo Giordani"
      },
      "publisher" : {
	  "@type" : "Organization",
	  "name" : "The Digital Cat",
	  "logo" : {
	      "@type" : "ImageObject",
	      "url" : "https://www.thedigitalcatonline.com/images/global/logo_200.jpg",
	      "height" : 200,
	      "width" : 200
	  }
      },
      "mainEntityOfPage": {
	  "@type": "WebPage",
	  "@id": "https://www.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-5/"
      },
      "datePublished" : "25/06/2018",
      "dateModified" : "12/02/2019",
      "image" : "https://www.thedigitalcatonline.com/images/exploring-the-amiga-5.jpg",
      "description" : "List management in Kickstart 1.3",
      "headline" : "List management in Kickstart 1.3",
      "url" : "https://www.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-5/"
  }
</script>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

<header id="header">
  <a class="logo" href="/category/retro/" title="Retro">All posts in category Retro <i class="fas fa-link"></i></a>
  <div class="align-right">

    <a href="/blog/2018/06/14/exploring-the-amiga-4/"><i class="fas fa-caret-square-left"></i></a>
    
    Exploring the Amiga #5

    <a href="/blog/2018/06/25/exploring-the-amiga-6/"><i class="fas fa-caret-square-right"></i></a>

  </div>
</header>

<!-- <article class="post"> -->

  <section id="header">
    <header class="main">
      <h1>Exploring the Amiga - Part 5</h1>
    </header>
  </section>

  <section id="post-info">
    <p class="article-info">
    By Leonardo Giordani

    <span class="fas fa-calendar-alt"></span> <time datetime="2018-06-25T12:00:00+01:00"> 25/06/2018</time>

    <span class="fas fa-edit"></span> <time datetime="2019-02-12T20:00:00+00:00"> 12/02/2019</time>

    <span class="fas fa-tags"></span>
    <a class="tag" href="/categories/assembly/">assembly</a>    <a class="tag" href="/categories/amiga/">amiga</a>    <a class="tag" href="/categories/retroprogramming/">retroprogramming</a>    <br>
    Share on: <span><a class="" href="https://twitter.com/intent/tweet?text=Exploring%20the%20Amiga%20-%20Part%205&url=https%3A//www.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-5/&via=thedigicat&hashtags=assembly,amiga,retroprogramming" target="_blank" title="Share on Twitter"><i class="fab fa-twitter"></i> Twitter</a></span>
<span><a class="" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A//www.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-5/&title=Exploring%20the%20Amiga%20-%20Part%205&summary=List%20management%20in%20Kickstart%201.3&source=https%3A//www.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-5/" target="_blank" title="Share on LinkedIn"><i class="fab fa-linkedin"></i> LinkedIn</a></span>
<span><a class="" href="https://news.ycombinator.com/submitlink?t=Exploring%20the%20Amiga%20-%20Part%205&u=https%3A//www.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-5/" target="_blank" title="Share on HackerNews"><i class="fab fa-hacker-news"></i> HackerNews</a></span>
<span><a class="" href="mailto:?subject=Exploring%20the%20Amiga%20-%20Part%205&amp;body=https%3A//www.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-5/" target="_blank" title="Share via Email"><i class="fas fa-envelope"></i> Email</a></span>
<span><a class="" href="https://www.reddit.com/submit?url=https%3A//www.thedigitalcatonline.com/blog/2018/06/25/exploring-the-amiga-5/&title=Exploring%20the%20Amiga%20-%20Part%205" target="_blank" title="Share via Reddit"><i class="fab fa-reddit"></i> Reddit</a></span>    </p>
  </section>

  <section id="content">
    <p>Memory management is always one of the most rich and complex parts of an architecture, mainly because the available amount of memory is always less than what you would like to have. <a href="https://users.ece.cmu.edu/~koopman/titan/rules.html">Always</a>.</p>
<p>It is also an interesting topic because memory is generally managed by both the hardware and the software. The microprocessor may provide a memory management unit (MMU) that enforces a specific schema and the software has to implement its own algorithms on top of that.</p>
<p>The Amiga originally run on a Motorola 68k, which doesn't provide any memory management in hardware. This means that there is no way for the processor to block attempts to read memory by a process, a feature that wasn't present on the first Intel x86 processors as well. Intel "solved" the issue with the introduction of the protected mode in the 386 family (even though an initial version was already present on the 286 processors). Motorola provided external MMUs for the 68010 and 68020, while the 68030 and later processor feature an on-chip MMU. </p>
<p>The Motorola 68k is a 32-bit processor, thus registers and the address bus have that size. The memory, however, is connected to only 24 of the 32 lines of the bus, which means that the total memory space addressable by the processor is a 24-bit space, that gives 16 Megabytes instead of the possible 4 Gigabytes. That amount of memory was however enough for the period when the Amiga was designed. Consider that the most successful model of Amiga, the Amiga 500, had 500 KBytes of memory, sometimes increased to 1 Megabyte through a memory expansion.</p>
<p>The lack of a memory scheme enforced by the processor means that at boot time the memory is just a flat area that can be addressed directly. As we saw in the previous instalments Exec creates its own structure in memory, generating the library node and creating the library jump table. This happens in the bigger picture of the machine initialisation, and one of the tasks performed during this initialisation is the setup of the memory management structures.</p>
<h1 id="the-exec-base-address">The Exec base address<a class="headerlink" href="#the-exec-base-address" title="Permanent link">&para;</a></h1>
<p>Every Amiga programmer knows that address <code>0x4</code> contains the Exec base address, and I showed in past instalments how this is used in conjunction with the jump table to call the library functions.</p>
<p>The reason why the Exec base address is stored there is however seldom mentioned. As a matter of fact that address is not just a random choice.</p>
<p>The Motorola 68000 family reserves the first Kilobyte of memory for exception vectors, that is code that will be executed when something wrong happens. "Wrong" here means bad at hardware level, from a divide by zero to a bus error. This is enforced by the Motorola 68k architecture and thus is a feature shared by other computers and consoles based on it.</p>
<p>The first two of these vectors are actually used when the processor is powering-up (or in general when it resets). And the vector number 1 (the second) at offset <code>0x4</code> is the Reset Initial Program Counter.</p>
<p>After a reset the processor initialises the Program Counter with the address stored at <code>0x4</code> in the memory. When the CPU is switched on, however, the Kickstart ROM is copied in memory, thus the addresses 0 and 4 (first two exception vectors) are the addresses listed in the ROM itself.</p>
<p>The very first 8 bytes of the Kickstart ROM are</p>
<div class="highlight"><pre><span></span><code><span class="mi">00000000</span><span class="o">:</span> <span class="mi">1111</span>
<span class="mi">00000002</span><span class="o">:</span> <span class="mi">4</span><span class="n">ef9</span> <span class="mi">00</span><span class="n">fc</span> <span class="mi">00</span><span class="n">d2</span>            <span class="n">jmp</span>     <span class="mh">0xfc00d2</span><span class="o">.</span><span class="na">l</span>
</code></pre></div>


<p>and you can clearly see that the long word at address <code>0x4</code> is <code>00fc 00d2</code>. This actually corresponds to the address where the initial code of the ROM is</p>
<div class="highlight"><pre><span></span><code><span class="mi">000000</span><span class="n">d2</span><span class="o">:</span> <span class="mi">4</span><span class="n">ff9</span> <span class="mi">0004</span> <span class="mi">0000</span>            <span class="n">lea</span>     <span class="mh">0x40000</span><span class="o">.</span><span class="na">l</span><span class="o">,</span><span class="n">sp</span>
</code></pre></div>


<p>which sets the stack pointer, but I'll keep this analysis for a future post.</p>
<p>The address <code>0x4</code> is then free to be used during the normal execution, since it is used only during a reset, but in that case whatever we wrote there (the Exec base address) is overwritten by the ROM code.</p>
<h1 id="list-headers">List headers<a class="headerlink" href="#list-headers" title="Permanent link">&para;</a></h1>
<p>Exec manages memory and resources using <a href="https://en.wikipedia.org/wiki/Linked_list">linked lists</a>. As you know, to manage a linked list we need the address (pointer) of the head, of the tail, and also of the second-to-last element (the tail predecessor), to allow the tail to be detached and replaced. Actually it is evident that, given the convention that the last node is connected to the address 0, the only value we need is the address of the list head. The two additional addresses, however, can greatly simplify the code that manages the list and can greatly increase the performances, avoiding the need of a complete scan of the list to find the last element every time we want to add something to the end of the list.</p>
<p>The Exec library provides a nice structure to manage lists, <code>LH</code>. The structure is defined in <code>include_i/exec/lists.i</code></p>
<div class="highlight"><pre><span></span><code><span class="err">   STRUCTURE    LH,0</span>
<span class="err">    APTR    LH_HEAD</span>
<span class="err">    APTR    LH_TAIL</span>
<span class="err">    APTR    LH_TAILPRED</span>
<span class="err">    UBYTE   LH_TYPE</span>
<span class="err">    UBYTE   LH_pad</span>
<span class="err">    LABEL   LH_SIZE ;word aligned</span>
</code></pre></div>


<p>The only two fields that this structure adds compared to the previous description are <code>LH_TYPE</code>, that unsurprisingly contains the type of the data contained in the list, and <code>LH_pad</code> which is nothing but what the name suggests, a padding that allows the structure to be word aligned.</p>
<p>We need now to discover where Exec keeps the header for the memory list. Analysing the <code>ExecBase</code> structure contained in <code>include_i/exec/execbase.i</code> we find the following definitions</p>
<div class="highlight"><pre><span></span><code><span class="o">*******</span> <span class="k">System</span> <span class="n">List</span> <span class="n">Headers</span> <span class="p">(</span><span class="n">private</span><span class="o">!</span><span class="p">)</span> <span class="o">********************************</span>

    <span class="n">STRUCT</span>  <span class="n">MemList</span><span class="p">,</span><span class="n">LH_SIZE</span>
    <span class="n">STRUCT</span>  <span class="n">ResourceList</span><span class="p">,</span><span class="n">LH_SIZE</span>
    <span class="n">STRUCT</span>  <span class="n">DeviceList</span><span class="p">,</span><span class="n">LH_SIZE</span>
    <span class="n">STRUCT</span>  <span class="n">IntrList</span><span class="p">,</span><span class="n">LH_SIZE</span>
    <span class="n">STRUCT</span>  <span class="n">LibList</span><span class="p">,</span><span class="n">LH_SIZE</span>
    <span class="n">STRUCT</span>  <span class="n">PortList</span><span class="p">,</span><span class="n">LH_SIZE</span>
    <span class="n">STRUCT</span>  <span class="n">TaskReady</span><span class="p">,</span><span class="n">LH_SIZE</span>
    <span class="n">STRUCT</span>  <span class="n">TaskWait</span><span class="p">,</span><span class="n">LH_SIZE</span>
    <span class="n">STRUCT</span>  <span class="n">SoftInts</span><span class="p">,</span><span class="n">SH_SIZE</span><span class="o">*</span><span class="mi">5</span>
</code></pre></div>


<p>which is exactly what we wanted. When Exec installs itself in the first part of the memory it will also initialise these headers to keep track of the corresponding resources.</p>
<p>It is interesting to note, however, that the ExecBase structure described in the include files is not used directly, but is more a description of what the code is going to create. This is a bit different from what higher level languages like C use to do. In C you declare a structure, you reserve memory for it, and then access its fields. In Assembly, ultimately, there is no such a concept as a structure and a field. We have only a (flat) memory and addresses.</p>
<p>Since ExecBase is a description of the structure of Exec once it will be installed in memory it is interesting to run through its fields and annotate the relative address of each of them.</p>
<p>I took the code contained in <code>include_i/exec/execbase.i</code> and I computed the address of each field. The first column contains the relative address inside the structure (thus starting from <code>0x0</code>), while the second column contains the address relative to the Exec base address. As shown in the fourth post the <code>LN</code> and <code>LIB</code> structures fill the first 34 bytes, which is why the following starting address is <code>0x22</code></p>
<div class="highlight"><pre><span></span><code><span class="mi">0000</span> <span class="mi">0022</span>    <span class="n">UWORD</span>   <span class="n">SoftVer</span> <span class="p">;</span> <span class="n">kickstart</span> <span class="n">release</span> <span class="nb">number</span> <span class="p">(</span><span class="n">obs</span><span class="p">.)</span>
<span class="mi">0002</span> <span class="mi">0024</span>    <span class="n">WORD</span>    <span class="n">LowMemChkSum</span>    <span class="p">;</span> <span class="n">checksum</span> <span class="k">of</span> <span class="mi">68000</span> <span class="n">trap</span> <span class="n">vectors</span>
<span class="mi">0004</span> <span class="mi">0026</span>    <span class="n">ULONG</span>   <span class="n">ChkBase</span> <span class="p">;</span> <span class="k">system</span> <span class="n">base</span> <span class="n">pointer</span> <span class="n">complement</span>
<span class="mi">0008</span> <span class="mi">002</span><span class="n">a</span>    <span class="n">APTR</span>    <span class="n">ColdCapture</span> <span class="p">;</span> <span class="n">coldstart</span> <span class="n">soft</span> <span class="n">capture</span> <span class="n">vector</span>
<span class="mi">000</span><span class="k">c</span> <span class="mi">002</span><span class="n">e</span>    <span class="n">APTR</span>    <span class="n">CoolCapture</span> <span class="p">;</span> <span class="n">coolstart</span> <span class="n">soft</span> <span class="n">capture</span> <span class="n">vector</span>
<span class="mi">0010</span> <span class="mi">0032</span>    <span class="n">APTR</span>    <span class="n">WarmCapture</span> <span class="p">;</span> <span class="n">warmstart</span> <span class="n">soft</span> <span class="n">capture</span> <span class="n">vector</span>
<span class="mi">0014</span> <span class="mi">0036</span>    <span class="n">APTR</span>    <span class="n">SysStkUpper</span> <span class="p">;</span> <span class="k">system</span> <span class="n">stack</span> <span class="n">base</span>   <span class="p">(</span><span class="k">upper</span> <span class="n">bound</span><span class="p">)</span>
<span class="mi">0018</span> <span class="mi">003</span><span class="n">a</span>    <span class="n">APTR</span>    <span class="n">SysStkLower</span> <span class="p">;</span> <span class="n">top</span> <span class="k">of</span> <span class="k">system</span> <span class="n">stack</span> <span class="p">(</span><span class="k">lower</span> <span class="n">bound</span><span class="p">)</span>
<span class="mi">001</span><span class="k">c</span> <span class="mi">003</span><span class="n">e</span>    <span class="n">ULONG</span>   <span class="n">MaxLocMem</span>   <span class="p">;</span> <span class="n">top</span> <span class="k">of</span> <span class="n">chip</span> <span class="n">memory</span>
<span class="mi">0020</span> <span class="mi">0042</span>    <span class="n">APTR</span>    <span class="n">DebugEntry</span>  <span class="p">;</span> <span class="k">global</span> <span class="n">debugger</span> <span class="n">entry</span> <span class="n">point</span>
<span class="mi">0024</span> <span class="mi">0046</span>    <span class="n">APTR</span>    <span class="n">DebugData</span>   <span class="p">;</span> <span class="k">global</span> <span class="n">debugger</span> <span class="k">data</span> <span class="n">segment</span>
<span class="mi">0028</span> <span class="mi">004</span><span class="n">a</span>    <span class="n">APTR</span>    <span class="n">AlertData</span>   <span class="p">;</span> <span class="n">alert</span> <span class="k">data</span> <span class="n">segment</span>
<span class="mi">002</span><span class="k">c</span> <span class="mi">004</span><span class="n">e</span>    <span class="n">APTR</span>    <span class="n">MaxExtMem</span>   <span class="p">;</span> <span class="n">top</span> <span class="k">of</span> <span class="n">extended</span> <span class="n">mem</span><span class="p">,</span> <span class="k">or</span> <span class="k">null</span> <span class="k">if</span> <span class="k">none</span>

<span class="mi">0030</span> <span class="mi">0052</span>    <span class="n">WORD</span>    <span class="n">ChkSum</span>      <span class="p">;</span> <span class="k">for</span> <span class="k">all</span> <span class="k">of</span> <span class="n">the</span> <span class="n">above</span> <span class="p">(</span><span class="n">minus</span> <span class="mi">2</span><span class="p">)</span>


<span class="o">*******</span> <span class="n">Interrupt</span> <span class="n">Related</span> <span class="o">********************************************</span>

    <span class="n">LABEL</span>   <span class="n">IntVects</span>
<span class="mi">0032</span> <span class="mi">0054</span>    <span class="n">STRUCT</span>  <span class="n">IVTBE</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">003</span><span class="n">e</span> <span class="mi">0060</span>    <span class="n">STRUCT</span>  <span class="n">IVDSKBLK</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">004</span><span class="n">a</span> <span class="mi">006</span><span class="k">c</span>    <span class="n">STRUCT</span>  <span class="n">IVSOFTINT</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">0056</span> <span class="mi">0078</span>    <span class="n">STRUCT</span>  <span class="n">IVPORTS</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">0062</span> <span class="mi">0084</span>    <span class="n">STRUCT</span>  <span class="n">IVCOPER</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">006</span><span class="n">e</span> <span class="mi">0090</span>    <span class="n">STRUCT</span>  <span class="n">IVVERTB</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">007</span><span class="n">a</span> <span class="mi">009</span><span class="k">c</span>    <span class="n">STRUCT</span>  <span class="n">IVBLIT</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">0086</span> <span class="mi">00</span><span class="n">a8</span>    <span class="n">STRUCT</span>  <span class="n">IVAUD0</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">0092</span> <span class="mi">00</span><span class="n">b4</span>    <span class="n">STRUCT</span>  <span class="n">IVAUD1</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">009</span><span class="n">e</span> <span class="mi">00</span><span class="n">c0</span>    <span class="n">STRUCT</span>  <span class="n">IVAUD2</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">00</span><span class="n">aa</span> <span class="mi">00</span><span class="n">cc</span>    <span class="n">STRUCT</span>  <span class="n">IVAUD3</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">00</span><span class="n">b6</span> <span class="mi">00</span><span class="n">d8</span>    <span class="n">STRUCT</span>  <span class="n">IVRBF</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">00</span><span class="n">c2</span> <span class="mi">00</span><span class="n">e4</span>    <span class="n">STRUCT</span>  <span class="n">IVDSKSYNC</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">00</span><span class="n">ce</span> <span class="mi">00</span><span class="n">f0</span>    <span class="n">STRUCT</span>  <span class="n">IVEXTER</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">00</span><span class="n">da</span> <span class="mi">00</span><span class="n">fc</span>    <span class="n">STRUCT</span>  <span class="n">IVINTEN</span><span class="p">,</span><span class="n">IV_SIZE</span>
<span class="mi">00</span><span class="n">e6</span> <span class="mi">0108</span>    <span class="n">STRUCT</span>  <span class="n">IVNMI</span><span class="p">,</span><span class="n">IV_SIZE</span>


<span class="o">*******</span> <span class="k">Dynamic</span> <span class="k">System</span> <span class="n">Variables</span> <span class="o">*************************************</span>

<span class="mi">00</span><span class="n">f2</span> <span class="mi">0114</span>    <span class="n">APTR</span>    <span class="n">ThisTask</span>    <span class="p">;</span> <span class="n">pointer</span> <span class="k">to</span> <span class="k">current</span> <span class="n">task</span> <span class="p">(</span><span class="n">readable</span><span class="p">)</span>

<span class="mi">00</span><span class="n">f6</span> <span class="mi">0118</span>    <span class="n">ULONG</span>   <span class="n">IdleCount</span>   <span class="p">;</span> <span class="n">idle</span> <span class="n">counter</span>
<span class="mi">00</span><span class="n">fa</span> <span class="mi">011</span><span class="k">c</span>    <span class="n">ULONG</span>   <span class="n">DispCount</span>   <span class="p">;</span> <span class="k">dispatch</span> <span class="n">counter</span>
<span class="mi">00</span><span class="n">fe</span> <span class="mi">0120</span>    <span class="n">UWORD</span>   <span class="n">Quantum</span> <span class="p">;</span> <span class="n">time</span> <span class="n">slice</span> <span class="n">quantum</span>
<span class="mi">0100</span> <span class="mi">0122</span>    <span class="n">UWORD</span>   <span class="n">Elapsed</span> <span class="p">;</span> <span class="k">current</span> <span class="n">quantum</span> <span class="n">ticks</span>
<span class="mi">0102</span> <span class="mi">0124</span>    <span class="n">UWORD</span>   <span class="n">SysFlags</span>    <span class="p">;</span> <span class="n">misc</span> <span class="n">internal</span> <span class="k">system</span> <span class="n">flags</span>
<span class="mi">0104</span> <span class="mi">0126</span>    <span class="n">BYTE</span>    <span class="n">IDNestCnt</span>   <span class="p">;</span> <span class="n">interrupt</span> <span class="n">disable</span> <span class="n">nesting</span> <span class="k">count</span>
<span class="mi">0105</span> <span class="mi">0127</span>    <span class="n">BYTE</span>    <span class="n">TDNestCnt</span>   <span class="p">;</span> <span class="n">task</span> <span class="n">disable</span> <span class="n">nesting</span> <span class="k">count</span>

<span class="mi">0106</span> <span class="mi">0128</span>    <span class="n">UWORD</span>   <span class="n">AttnFlags</span>   <span class="p">;</span> <span class="n">special</span> <span class="n">attention</span> <span class="n">flags</span> <span class="p">(</span><span class="n">readable</span><span class="p">)</span>

<span class="mi">0108</span> <span class="mi">012</span><span class="n">a</span>    <span class="n">UWORD</span>   <span class="n">AttnResched</span> <span class="p">;</span> <span class="n">rescheduling</span> <span class="n">attention</span>
<span class="mi">010</span><span class="n">a</span> <span class="mi">012</span><span class="k">c</span>    <span class="n">APTR</span>    <span class="n">ResModules</span>  <span class="p">;</span> <span class="n">pointer</span> <span class="k">to</span> <span class="n">resident</span> <span class="n">module</span> <span class="nb">array</span>
<span class="mi">010</span><span class="n">e</span> <span class="mi">0130</span>    <span class="n">APTR</span>    <span class="n">TaskTrapCode</span>    <span class="p">;</span> <span class="k">default</span> <span class="n">task</span> <span class="n">trap</span> <span class="k">routine</span>
<span class="mi">0112</span> <span class="mi">0134</span>    <span class="n">APTR</span>    <span class="n">TaskExceptCode</span>  <span class="p">;</span> <span class="k">default</span> <span class="n">task</span> <span class="k">exception</span> <span class="n">code</span>
<span class="mi">0116</span> <span class="mi">0138</span>    <span class="n">APTR</span>    <span class="n">TaskExitCode</span>    <span class="p">;</span> <span class="k">default</span> <span class="n">task</span> <span class="n">exit</span> <span class="n">code</span>
<span class="mi">011</span><span class="n">a</span> <span class="mi">013</span><span class="k">c</span>    <span class="n">ULONG</span>   <span class="n">TaskSigAlloc</span>    <span class="p">;</span> <span class="n">preallocated</span> <span class="n">signal</span> <span class="n">mask</span>
<span class="mi">011</span><span class="n">e</span> <span class="mi">0140</span>    <span class="n">UWORD</span>   <span class="n">TaskTrapAlloc</span>   <span class="p">;</span> <span class="n">preallocated</span> <span class="n">trap</span> <span class="n">mask</span>


<span class="o">*******</span> <span class="k">System</span> <span class="n">List</span> <span class="n">Headers</span> <span class="p">(</span><span class="n">private</span><span class="o">!</span><span class="p">)</span> <span class="o">********************************</span>

<span class="mi">0120</span> <span class="mi">0142</span>    <span class="n">STRUCT</span>  <span class="n">MemList</span><span class="p">,</span><span class="n">LH_SIZE</span>
<span class="mi">012</span><span class="n">e</span> <span class="mi">0150</span>    <span class="n">STRUCT</span>  <span class="n">ResourceList</span><span class="p">,</span><span class="n">LH_SIZE</span>
<span class="mi">013</span><span class="k">c</span> <span class="mi">015</span><span class="n">e</span>    <span class="n">STRUCT</span>  <span class="n">DeviceList</span><span class="p">,</span><span class="n">LH_SIZE</span>
<span class="mi">014</span><span class="n">a</span> <span class="mi">016</span><span class="k">c</span>    <span class="n">STRUCT</span>  <span class="n">IntrList</span><span class="p">,</span><span class="n">LH_SIZE</span>
<span class="mi">0158</span> <span class="mi">017</span><span class="n">a</span>    <span class="n">STRUCT</span>  <span class="n">LibList</span><span class="p">,</span><span class="n">LH_SIZE</span>
<span class="mi">0166</span> <span class="mi">0188</span>    <span class="n">STRUCT</span>  <span class="n">PortList</span><span class="p">,</span><span class="n">LH_SIZE</span>
<span class="mi">0174</span> <span class="mi">0196</span>    <span class="n">STRUCT</span>  <span class="n">TaskReady</span><span class="p">,</span><span class="n">LH_SIZE</span>
<span class="mi">0182</span> <span class="mi">01</span><span class="n">a4</span>    <span class="n">STRUCT</span>  <span class="n">TaskWait</span><span class="p">,</span><span class="n">LH_SIZE</span>
<span class="mi">0190</span> <span class="mi">01</span><span class="n">b2</span>    <span class="n">STRUCT</span>  <span class="n">SoftInts</span><span class="p">,</span><span class="n">SH_SIZE</span><span class="o">*</span><span class="mi">5</span>

<span class="mi">01</span><span class="n">e0</span> <span class="mi">0202</span>    <span class="n">STRUCT</span>  <span class="n">LastAlert</span><span class="p">,</span><span class="mi">4</span><span class="o">*</span><span class="mi">4</span>

<span class="mi">01</span><span class="n">f0</span> <span class="mi">0212</span>    <span class="n">UBYTE</span>   <span class="n">VBlankFrequency</span>     <span class="p">;(</span><span class="n">readable</span><span class="p">)</span>
<span class="mi">01</span><span class="n">f1</span> <span class="mi">0213</span>    <span class="n">UBYTE</span>   <span class="n">PowerSupplyFrequency</span>    <span class="p">;(</span><span class="n">readable</span><span class="p">)</span>

<span class="mi">01</span><span class="n">f2</span> <span class="mi">0214</span>    <span class="n">STRUCT</span>  <span class="n">SemaphoreList</span><span class="p">,</span><span class="n">LH_SIZE</span>

<span class="mi">0200</span> <span class="mi">0222</span>    <span class="n">APTR</span>    <span class="n">KickMemPtr</span>  <span class="p">;</span> <span class="n">ptr</span> <span class="k">to</span> <span class="n">queue</span> <span class="k">of</span> <span class="n">mem</span> <span class="n">lists</span>
<span class="mi">0204</span> <span class="mi">0226</span>    <span class="n">APTR</span>    <span class="n">KickTagPtr</span>  <span class="p">;</span> <span class="n">ptr</span> <span class="k">to</span> <span class="n">rom</span> <span class="n">tag</span> <span class="n">queue</span>
<span class="mi">0208</span> <span class="mi">022</span><span class="n">a</span>    <span class="n">APTR</span>    <span class="n">KickCheckSum</span>    <span class="p">;</span> <span class="n">checksum</span> <span class="k">for</span> <span class="n">mem</span> <span class="k">and</span> <span class="n">tags</span>

<span class="mi">020</span><span class="k">c</span> <span class="mi">022</span><span class="n">e</span>    <span class="n">UBYTE</span> <span class="n">ExecBaseReserved</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
<span class="mi">0216</span> <span class="mi">0238</span>    <span class="n">UBYTE</span> <span class="n">ExecBaseNewReserved</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
<span class="mi">022</span><span class="n">a</span> <span class="mi">024</span><span class="k">c</span>    <span class="n">LABEL</span>   <span class="n">SYSBASESIZE</span>
</code></pre></div>


<p>According to this structure we expect to find the memory list header 322 bytes (<code>0x142</code>) after the base address, which means that this number should be mentioned somewhere in the Kickstart code.</p>
<p>It is not surprise indeed that the function <code>AllocMem</code> mentions it. This function is part of the Exec API that we explored in the third and fourth instalments. Following the same method described there I found the function at the address <code>0x17d0</code> in the Kickstart code</p>
<div class="highlight"><pre><span></span><code><span class="p">;</span> <span class="n">memoryBlock</span> <span class="o">=</span> <span class="n">AllocMem</span><span class="p">(</span><span class="n">byteSize</span><span class="p">,</span> <span class="n">attributes</span><span class="p">)</span>
<span class="p">;</span> <span class="n">d0</span>                     <span class="n">d0</span>        <span class="n">d1</span>

<span class="mi">000017</span><span class="n">d0</span><span class="p">:</span> <span class="mi">522</span><span class="n">e</span> <span class="mi">0127</span>                 <span class="n">addq</span><span class="p">.</span><span class="n">b</span>  <span class="o">#</span><span class="mi">0</span><span class="n">x1</span><span class="p">,</span><span class="mi">0</span><span class="n">x127</span><span class="p">(</span><span class="n">a6</span><span class="p">)</span>
<span class="mi">000017</span><span class="n">d4</span><span class="p">:</span> <span class="mi">48</span><span class="n">e7</span> <span class="mi">3020</span>                 <span class="n">movem</span><span class="p">.</span><span class="n">l</span> <span class="n">d2</span><span class="o">-</span><span class="n">d3</span><span class="o">/</span><span class="n">a2</span><span class="p">,</span><span class="o">-</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="mi">000017</span><span class="n">d8</span><span class="p">:</span> <span class="mi">2600</span>                      <span class="k">move</span><span class="p">.</span><span class="n">l</span>  <span class="n">d0</span><span class="p">,</span><span class="n">d3</span>
<span class="mi">000017</span><span class="n">da</span><span class="p">:</span> <span class="mi">2401</span>                      <span class="k">move</span><span class="p">.</span><span class="n">l</span>  <span class="n">d1</span><span class="p">,</span><span class="n">d2</span>
<span class="mi">000017</span><span class="n">dc</span><span class="p">:</span> <span class="mi">45</span><span class="n">ee</span> <span class="mi">0142</span>                 <span class="n">lea</span>     <span class="mi">0</span><span class="n">x142</span><span class="p">(</span><span class="n">a6</span><span class="p">),</span><span class="n">a2</span>
<span class="mi">000017</span><span class="n">e0</span><span class="p">:</span> <span class="mi">2452</span>                      <span class="n">movea</span><span class="p">.</span><span class="n">l</span> <span class="p">(</span><span class="n">a2</span><span class="p">),</span><span class="n">a2</span>
<span class="p">;</span> <span class="p">...</span>
</code></pre></div>


<p>and in this initial part of the function we can clearly see the code that loads the effective address of <code>0x142(a6)</code>. Remember that <code>a6</code> is always supposed to contain the Exec base address.</p>
<p>The displacement <code>0x142</code> is also mentioned in a table towards the beginning of the code, and this is the part we are really interested in at the moment</p>
<div class="highlight"><pre><span></span><code><span class="p">;</span> <span class="n">Initialise</span> <span class="n">list</span> <span class="n">headers</span>

<span class="mi">000002</span><span class="n">b0</span><span class="p">:</span> <span class="mi">43</span><span class="n">fa</span> <span class="mi">0020</span>                 <span class="n">lea</span>     <span class="mi">0</span><span class="n">x2d2</span><span class="p">(</span><span class="n">pc</span><span class="p">),</span><span class="n">a1</span>
<span class="mi">000002</span><span class="n">b4</span><span class="p">:</span> <span class="mi">3019</span>                      <span class="k">move</span><span class="p">.</span><span class="n">w</span>  <span class="p">(</span><span class="n">a1</span><span class="p">)</span><span class="o">+</span><span class="p">,</span><span class="n">d0</span>
<span class="mi">000002</span><span class="n">b6</span><span class="p">:</span> <span class="mi">6700</span> <span class="mi">0086</span>                 <span class="n">beq</span><span class="p">.</span><span class="n">w</span>   <span class="mi">0</span><span class="n">x33e</span>
<span class="mi">000002</span><span class="n">ba</span><span class="p">:</span> <span class="mi">41</span><span class="n">f6</span> <span class="mi">0000</span>                 <span class="n">lea</span>     <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">a6</span><span class="p">,</span><span class="n">d0</span><span class="p">.</span><span class="n">w</span><span class="p">),</span><span class="n">a0</span>
<span class="mi">000002</span><span class="n">be</span><span class="p">:</span> <span class="mi">2088</span>                      <span class="k">move</span><span class="p">.</span><span class="n">l</span>  <span class="n">a0</span><span class="p">,(</span><span class="n">a0</span><span class="p">)</span>
<span class="mi">000002</span><span class="n">c0</span><span class="p">:</span> <span class="mi">5890</span>                      <span class="n">addq</span><span class="p">.</span><span class="n">l</span>  <span class="o">#</span><span class="mi">0</span><span class="n">x4</span><span class="p">,(</span><span class="n">a0</span><span class="p">)</span>
<span class="mi">000002</span><span class="n">c2</span><span class="p">:</span> <span class="mi">42</span><span class="n">a8</span> <span class="mi">0004</span>                 <span class="n">clr</span><span class="p">.</span><span class="n">l</span>   <span class="mi">0</span><span class="n">x4</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
<span class="mi">000002</span><span class="n">c6</span><span class="p">:</span> <span class="mi">2148</span> <span class="mi">0008</span>                 <span class="k">move</span><span class="p">.</span><span class="n">l</span>  <span class="n">a0</span><span class="p">,</span><span class="mi">0</span><span class="n">x8</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
<span class="mi">000002</span><span class="n">ca</span><span class="p">:</span> <span class="mi">3019</span>                      <span class="k">move</span><span class="p">.</span><span class="n">w</span>  <span class="p">(</span><span class="n">a1</span><span class="p">)</span><span class="o">+</span><span class="p">,</span><span class="n">d0</span>
<span class="mi">000002</span><span class="n">cc</span><span class="p">:</span> <span class="mi">1140</span> <span class="mi">000</span><span class="k">c</span>                 <span class="k">move</span><span class="p">.</span><span class="n">b</span>  <span class="n">d0</span><span class="p">,</span><span class="mi">0</span><span class="n">xc</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
<span class="mi">000002</span><span class="n">d0</span><span class="p">:</span> <span class="mi">60</span><span class="n">e2</span>                      <span class="n">bra</span><span class="p">.</span><span class="n">b</span>   <span class="mi">0</span><span class="n">x2b4</span>

<span class="p">;</span> <span class="n">List</span> <span class="n">headers</span>

<span class="mi">000002</span><span class="n">d2</span><span class="p">:</span> <span class="mi">0142</span> <span class="mi">000</span><span class="n">a</span>
<span class="mi">000002</span><span class="n">d6</span><span class="p">:</span> <span class="mi">0150</span> <span class="mi">0008</span>
<span class="mi">000002</span><span class="n">da</span><span class="p">:</span> <span class="mi">015</span><span class="n">e</span> <span class="mi">0003</span>
<span class="mi">000002</span><span class="n">de</span><span class="p">:</span> <span class="mi">017</span><span class="n">a</span> <span class="mi">0009</span>
<span class="mi">000002</span><span class="n">e2</span><span class="p">:</span> <span class="mi">0188</span> <span class="mi">0004</span>
<span class="mi">000002</span><span class="n">e6</span><span class="p">:</span> <span class="mi">0196</span> <span class="mi">0001</span>
<span class="mi">000002</span><span class="n">ea</span><span class="p">:</span> <span class="mi">01</span><span class="n">a4</span> <span class="mi">0001</span>
<span class="mi">000002</span><span class="n">ee</span><span class="p">:</span> <span class="mi">016</span><span class="k">c</span> <span class="mi">0002</span>
<span class="mi">000002</span><span class="n">f2</span><span class="p">:</span> <span class="mi">01</span><span class="n">b2</span> <span class="mi">000</span><span class="n">b</span>
<span class="mi">000002</span><span class="n">f6</span><span class="p">:</span> <span class="mi">01</span><span class="n">c2</span> <span class="mi">000</span><span class="n">b</span>
<span class="mi">000002</span><span class="n">fa</span><span class="p">:</span> <span class="mi">01</span><span class="n">d2</span> <span class="mi">000</span><span class="n">b</span>
<span class="mi">000002</span><span class="n">fe</span><span class="p">:</span> <span class="mi">01</span><span class="n">e2</span> <span class="mi">000</span><span class="n">b</span>
<span class="mi">00000302</span><span class="p">:</span> <span class="mi">01</span><span class="n">f2</span> <span class="mi">000</span><span class="n">b</span>
<span class="mi">00000306</span><span class="p">:</span> <span class="mi">0214</span> <span class="mi">000</span><span class="n">f</span>
<span class="mi">0000030</span><span class="n">a</span><span class="p">:</span> <span class="mi">0000</span>
</code></pre></div>


<p>As you can see I formatted the code to show that the values after <code>02d2</code> are data and not code. The disassembler will obviously show you some instructions but they are just misinterpretations of the binary data. AS it is usual in the Kickstart code, we have some procedure working on a set of data and the data is stored immediately after the code itself. The purpose of this procedure is that of creating the initial headers for the linked lists that Exec will use to manage the system resources.</p>
<p>This table is immediately followed by the table we found in the <a href="https://www.thedigitalcatonline.com/blog/2018/06/08/exploring-the-amiga-3/">third post</a> of this series, when we were looking at the values of the <code>LIB</code> structure.</p>
<p>Let's comment line by line the code at <code>02b0</code></p>
<div class="highlight"><pre><span></span><code><span class="p">;</span> <span class="n">Initialise</span> <span class="n">list</span> <span class="n">headers</span>

<span class="mi">000002</span><span class="n">b0</span><span class="p">:</span> <span class="mi">43</span><span class="n">fa</span> <span class="mi">0020</span>                 <span class="n">lea</span>     <span class="mi">0</span><span class="n">x2d2</span><span class="p">(</span><span class="n">pc</span><span class="p">),</span><span class="n">a1</span>
<span class="mi">000002</span><span class="n">b4</span><span class="p">:</span> <span class="mi">3019</span>                      <span class="k">move</span><span class="p">.</span><span class="n">w</span>  <span class="p">(</span><span class="n">a1</span><span class="p">)</span><span class="o">+</span><span class="p">,</span><span class="n">d0</span>
<span class="mi">000002</span><span class="n">b6</span><span class="p">:</span> <span class="mi">6700</span> <span class="mi">0086</span>                 <span class="n">beq</span><span class="p">.</span><span class="n">w</span>   <span class="mi">0</span><span class="n">x33e</span>
<span class="mi">000002</span><span class="n">ba</span><span class="p">:</span> <span class="mi">41</span><span class="n">f6</span> <span class="mi">0000</span>                 <span class="n">lea</span>     <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">a6</span><span class="p">,</span><span class="n">d0</span><span class="p">.</span><span class="n">w</span><span class="p">),</span><span class="n">a0</span>
<span class="mi">000002</span><span class="n">be</span><span class="p">:</span> <span class="mi">2088</span>                      <span class="k">move</span><span class="p">.</span><span class="n">l</span>  <span class="n">a0</span><span class="p">,(</span><span class="n">a0</span><span class="p">)</span>
<span class="mi">000002</span><span class="n">c0</span><span class="p">:</span> <span class="mi">5890</span>                      <span class="n">addq</span><span class="p">.</span><span class="n">l</span>  <span class="o">#</span><span class="mi">0</span><span class="n">x4</span><span class="p">,(</span><span class="n">a0</span><span class="p">)</span>
<span class="mi">000002</span><span class="n">c2</span><span class="p">:</span> <span class="mi">42</span><span class="n">a8</span> <span class="mi">0004</span>                 <span class="n">clr</span><span class="p">.</span><span class="n">l</span>   <span class="mi">0</span><span class="n">x4</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
<span class="mi">000002</span><span class="n">c6</span><span class="p">:</span> <span class="mi">2148</span> <span class="mi">0008</span>                 <span class="k">move</span><span class="p">.</span><span class="n">l</span>  <span class="n">a0</span><span class="p">,</span><span class="mi">0</span><span class="n">x8</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
<span class="mi">000002</span><span class="n">ca</span><span class="p">:</span> <span class="mi">3019</span>                      <span class="k">move</span><span class="p">.</span><span class="n">w</span>  <span class="p">(</span><span class="n">a1</span><span class="p">)</span><span class="o">+</span><span class="p">,</span><span class="n">d0</span>
<span class="mi">000002</span><span class="n">cc</span><span class="p">:</span> <span class="mi">1140</span> <span class="mi">000</span><span class="k">c</span>                 <span class="k">move</span><span class="p">.</span><span class="n">b</span>  <span class="n">d0</span><span class="p">,</span><span class="mi">0</span><span class="n">xc</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
<span class="mi">000002</span><span class="n">d0</span><span class="p">:</span> <span class="mi">60</span><span class="n">e2</span>                      <span class="n">bra</span><span class="p">.</span><span class="n">b</span>   <span class="mi">0</span><span class="n">x2b4</span>
</code></pre></div>


<div class="highlight"><pre><span></span><code><span class="mi">000002</span><span class="n">b0</span><span class="o">:</span> <span class="mi">43</span><span class="n">fa</span> <span class="mi">0020</span>                 <span class="n">lea</span>     <span class="mh">0x2d2</span><span class="o">(</span><span class="n">pc</span><span class="o">),</span><span class="n">a1</span>
</code></pre></div>


<p>First of all the code loads the absolute address of <code>0x2d2(pc)</code> in the <code>a1</code> register. This is exactly the beginning of the table, as shown above.</p>
<div class="highlight"><pre><span></span><code><span class="mi">000002</span><span class="n">b4</span><span class="o">:</span> <span class="mi">3019</span>                      <span class="n">move</span><span class="o">.</span><span class="na">w</span>  <span class="o">(</span><span class="n">a1</span><span class="o">)+,</span><span class="n">d0</span>
<span class="mi">000002</span><span class="n">b6</span><span class="o">:</span> <span class="mi">6700</span> <span class="mi">0086</span>                 <span class="n">beq</span><span class="o">.</span><span class="na">w</span>   <span class="mh">0x33e</span>
</code></pre></div>


<p>The code then loads the first value of the table (<code>0142</code>) in <code>d0</code> and increments <code>a1</code>. This suggests that we are looking at a loop. The following instruction is indeed a comparison that jumps to <code>0x33e</code> is the value is <code>0</code>. You can easily see above that the table is terminated by a <code>0000</code>.</p>
<div class="highlight"><pre><span></span><code><span class="mi">000002</span><span class="n">ba</span><span class="o">:</span> <span class="mi">41</span><span class="n">f6</span> <span class="mi">0000</span>                 <span class="n">lea</span>     <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">a6</span><span class="o">,</span><span class="n">d0</span><span class="o">.</span><span class="na">w</span><span class="o">),</span><span class="n">a0</span>
</code></pre></div>


<p>The register <code>a0</code> is then loaded with the effective address of Exec + <code>d0</code>. This means that we use the value we just read from the table as a pointer. For the first value, then, we are looking at <code>0x142</code> bytes after the beginning of the Exec library, exactly where we expected to find the Memory List header.</p>
<div class="highlight"><pre><span></span><code><span class="mi">000002</span><span class="n">be</span><span class="o">:</span> <span class="mi">2088</span>                      <span class="n">move</span><span class="o">.</span><span class="na">l</span>  <span class="n">a0</span><span class="o">,(</span><span class="n">a0</span><span class="o">)</span>
<span class="mi">000002</span><span class="n">c0</span><span class="o">:</span> <span class="mi">5890</span>                      <span class="n">addq</span><span class="o">.</span><span class="na">l</span>  <span class="err">#</span><span class="mh">0x4</span><span class="o">,(</span><span class="n">a0</span><span class="o">)</span>
</code></pre></div>


<p>An empty linked list has the head pointing to the tail and the tail pointing to zero. To do this we set the content of that address <code>(a0)</code> to the address itself (<code>a0</code>), then we increment it by 4 making it point to the tail.</p>
<div class="highlight"><pre><span></span><code><span class="mi">000002</span><span class="n">c2</span><span class="o">:</span> <span class="mi">42</span><span class="n">a8</span> <span class="mi">0004</span>                 <span class="n">clr</span><span class="o">.</span><span class="na">l</span>   <span class="mh">0x4</span><span class="o">(</span><span class="n">a0</span><span class="o">)</span>
<span class="mi">000002</span><span class="n">c6</span><span class="o">:</span> <span class="mi">2148</span> <span class="mi">0008</span>                 <span class="n">move</span><span class="o">.</span><span class="na">l</span>  <span class="n">a0</span><span class="o">,</span><span class="mh">0x8</span><span class="o">(</span><span class="n">a0</span><span class="o">)</span>
</code></pre></div>


<p>The tail itself is then cleared and the tail predecessor is set to be the head.</p>
<div class="highlight"><pre><span></span><code><span class="mi">000002</span><span class="n">ca</span><span class="o">:</span> <span class="mi">3019</span>                      <span class="n">move</span><span class="o">.</span><span class="na">w</span>  <span class="o">(</span><span class="n">a1</span><span class="o">)+,</span><span class="n">d0</span>
<span class="mi">000002</span><span class="n">cc</span><span class="o">:</span> <span class="mi">1140</span> <span class="mi">000</span><span class="n">c</span>                 <span class="n">move</span><span class="o">.</span><span class="na">b</span>  <span class="n">d0</span><span class="o">,</span><span class="mh">0xc</span><span class="o">(</span><span class="n">a0</span><span class="o">)</span>
</code></pre></div>


<p>The code then fetches the next word from the table (<code>000a</code>) and puts it into a field 12 bytes (<code>0xc</code>) from the beginning of the structure, that is <code>LH_TYPE</code>. The possible values of this byte can be found in <code>include_i/exec/nodes.i</code>, where we find that the value <code>0xa</code> corresponds to <code>NT_MEMORY</code>.</p>
<div class="highlight"><pre><span></span><code><span class="p">;</span><span class="c1">------ Node Types for LN_TYPE</span>

<span class="n">NT_UNKNOWN</span>      <span class="n">EQU</span> <span class="mi">0</span>
<span class="n">NT_TASK</span>         <span class="n">EQU</span> <span class="mi">1</span>   <span class="p">;</span> <span class="k">Exec</span> <span class="n">task</span>
<span class="n">NT_INTERRUPT</span>    <span class="n">EQU</span> <span class="mi">2</span>
<span class="n">NT_DEVICE</span>       <span class="n">EQU</span> <span class="mi">3</span>
<span class="n">NT_MSGPORT</span>      <span class="n">EQU</span> <span class="mi">4</span>
<span class="n">NT_MESSAGE</span>      <span class="n">EQU</span> <span class="mi">5</span>   <span class="p">;</span> <span class="n">Indicates</span> <span class="n">message</span> <span class="n">currently</span> <span class="n">pending</span>
<span class="n">NT_FREEMSG</span>      <span class="n">EQU</span> <span class="mi">6</span>
<span class="n">NT_REPLYMSG</span>     <span class="n">EQU</span> <span class="mi">7</span>   <span class="p">;</span> <span class="n">Message</span> <span class="n">has</span> <span class="n">been</span> <span class="n">replied</span>
<span class="n">NT_RESOURCE</span>     <span class="n">EQU</span> <span class="mi">8</span>
<span class="n">NT_LIBRARY</span>      <span class="n">EQU</span> <span class="mi">9</span>
<span class="n">NT_MEMORY</span>       <span class="n">EQU</span> <span class="mi">10</span>
<span class="n">NT_SOFTINT</span>      <span class="n">EQU</span> <span class="mi">11</span>  <span class="p">;</span> <span class="n">Internal</span> <span class="n">flag</span> <span class="n">used</span> <span class="k">by</span> <span class="n">SoftInts</span>
<span class="n">NT_FONT</span>         <span class="n">EQU</span> <span class="mi">12</span>
<span class="n">NT_PROCESS</span>      <span class="n">EQU</span> <span class="mi">13</span>  <span class="p">;</span> <span class="n">AmigaDOS</span> <span class="n">Process</span>
<span class="n">NT_SEMAPHORE</span>    <span class="n">EQU</span> <span class="mi">14</span>
<span class="n">NT_SIGNALSEM</span>    <span class="n">EQU</span> <span class="mi">15</span>  <span class="p">;</span> <span class="n">signal</span> <span class="n">semaphores</span>
<span class="n">NT_BOOTNODE</span>     <span class="n">EQU</span> <span class="mi">16</span>
<span class="n">NT_KICKMEM</span>      <span class="n">EQU</span> <span class="mi">17</span>
<span class="n">NT_GRAPHICS</span>     <span class="n">EQU</span> <span class="mi">18</span>
<span class="n">NT_DEATHMESSAGE</span> <span class="n">EQU</span> <span class="mi">19</span>

<span class="n">NT_USER</span>         <span class="n">EQU</span> <span class="mi">254</span> <span class="p">;</span> <span class="k">User</span> <span class="n">node</span> <span class="n">types</span> <span class="k">work</span> <span class="n">down</span> <span class="k">from</span> <span class="n">here</span>
<span class="n">NT_EXTENDED</span>     <span class="n">EQU</span> <span class="mi">255</span>
</code></pre></div>


<p>There is only one instruction left</p>
<div class="highlight"><pre><span></span><code><span class="mi">000002</span><span class="n">d0</span><span class="o">:</span> <span class="mi">60</span><span class="n">e2</span>                      <span class="n">bra</span><span class="o">.</span><span class="na">b</span>   <span class="mh">0x2b4</span>
</code></pre></div>


<p>which jumps back to the beginning of this short piece of code. The procedure then keeps looping on the whole table until it reaches the list terminator <code>0000</code>.</p>
<p>The final content of the memory at <code>0142</code> will be</p>
<div class="highlight"><pre><span></span><code><span class="mi">00000142</span><span class="o">:</span> <span class="mi">0000</span> <span class="mi">0146</span> <span class="o">;</span> <span class="n">LH_HEAD</span>
<span class="mi">00000146</span><span class="o">:</span> <span class="mi">0000</span> <span class="mi">0000</span> <span class="o">;</span> <span class="n">LH_TAIL</span>
<span class="mi">0000014</span><span class="n">a</span><span class="o">:</span> <span class="mi">0000</span> <span class="mi">0146</span> <span class="o">;</span> <span class="n">LH_TAILPRED</span>
<span class="mi">0000014</span><span class="n">d</span><span class="o">:</span> <span class="mi">0</span><span class="n">a</span>        <span class="o">;</span> <span class="n">LH_TYPE</span>
</code></pre></div>


<p>And the same happens for the remaining 7 lists from <code>ResourceList</code> to <code>TaskWait</code>. After this the Exec lists are initialised.</p>
<p>According to the values of <code>LN_TYPE</code> the list headers table is the following</p>
<div class="highlight"><pre><span></span><code><span class="mi">000002</span><span class="n">d2</span><span class="o">:</span> <span class="mi">0142</span> <span class="mi">000</span><span class="n">a</span> <span class="o">;</span> <span class="n">MemList</span> <span class="o">(</span><span class="n">NT_MEMORY</span><span class="o">)</span>
<span class="mi">000002</span><span class="n">d6</span><span class="o">:</span> <span class="mi">0150</span> <span class="mi">0008</span> <span class="o">;</span> <span class="n">ResourceList</span> <span class="o">(</span><span class="n">NT_RESOURCE</span><span class="o">)</span>
<span class="mi">000002</span><span class="n">da</span><span class="o">:</span> <span class="mi">015</span><span class="n">e</span> <span class="mi">0003</span> <span class="o">;</span> <span class="n">DeviceList</span> <span class="o">(</span><span class="n">NT_DEVICE</span><span class="o">)</span>
<span class="mi">000002</span><span class="n">de</span><span class="o">:</span> <span class="mi">017</span><span class="n">a</span> <span class="mi">0009</span> <span class="o">;</span> <span class="n">LibList</span> <span class="o">(</span><span class="n">NT_LIBRARY</span><span class="o">)</span>
<span class="mi">000002</span><span class="n">e2</span><span class="o">:</span> <span class="mi">0188</span> <span class="mi">0004</span> <span class="o">;</span> <span class="n">PortList</span> <span class="o">(</span><span class="n">NT_MSGPORT</span><span class="o">)</span>
<span class="mi">000002</span><span class="n">e6</span><span class="o">:</span> <span class="mi">0196</span> <span class="mi">0001</span> <span class="o">;</span> <span class="n">TaskReady</span> <span class="o">(</span><span class="n">NT_TASK</span><span class="o">)</span>
<span class="mi">000002</span><span class="n">ea</span><span class="o">:</span> <span class="mi">01</span><span class="n">a4</span> <span class="mi">0001</span> <span class="o">;</span> <span class="n">TaskWait</span> <span class="o">(</span><span class="n">NT_TASK</span><span class="o">)</span>
<span class="mi">000002</span><span class="n">ee</span><span class="o">:</span> <span class="mi">016</span><span class="n">c</span> <span class="mi">0002</span> <span class="o">;</span> <span class="n">IntrList</span> <span class="o">(</span><span class="n">NT_INTERRUPT</span><span class="o">)</span>
<span class="mi">000002</span><span class="n">f2</span><span class="o">:</span> <span class="mi">01</span><span class="n">b2</span> <span class="mi">000</span><span class="n">b</span> <span class="o">;</span> <span class="n">SoftInts</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">(</span><span class="n">NT_SOFTINT</span><span class="o">)</span>
<span class="mi">000002</span><span class="n">f6</span><span class="o">:</span> <span class="mi">01</span><span class="n">c2</span> <span class="mi">000</span><span class="n">b</span> <span class="o">;</span> <span class="n">SoftInts</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">(</span><span class="n">NT_SOFTINT</span><span class="o">)</span>
<span class="mi">000002</span><span class="n">fa</span><span class="o">:</span> <span class="mi">01</span><span class="n">d2</span> <span class="mi">000</span><span class="n">b</span> <span class="o">;</span> <span class="n">SoftInts</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">(</span><span class="n">NT_SOFTINT</span><span class="o">)</span>
<span class="mi">000002</span><span class="n">fe</span><span class="o">:</span> <span class="mi">01</span><span class="n">e2</span> <span class="mi">000</span><span class="n">b</span> <span class="o">;</span> <span class="n">SoftInts</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span> <span class="o">(</span><span class="n">NT_SOFTINT</span><span class="o">)</span>
<span class="mi">00000302</span><span class="o">:</span> <span class="mi">01</span><span class="n">f2</span> <span class="mi">000</span><span class="n">b</span> <span class="o">;</span> <span class="n">SoftInts</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span> <span class="o">(</span><span class="n">NT_SOFTINT</span><span class="o">)</span>
<span class="mi">00000306</span><span class="o">:</span> <span class="mi">0214</span> <span class="mi">000</span><span class="n">f</span> <span class="o">;</span> <span class="n">SemaphoreList</span> <span class="o">(</span><span class="n">NT_SIGNALSEM</span><span class="o">)</span>
<span class="mi">0000030</span><span class="n">a</span><span class="o">:</span> <span class="mi">0000</span>
</code></pre></div>


<h1 id="whats-next">What's next<a class="headerlink" href="#whats-next" title="Permanent link">&para;</a></h1>
<p>The next instalment of the series will cover the initial part of the system memory initialisation, both the standard one and potential expansions, introducing <code>AddMemList</code> for the first time. It will also discuss the origin of some important numbers used in the Kickstart code, <code>0x24c</code>, <code>0x400</code>, and <code>0x676</code>.</p>
<h1 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h1>
<ul>
<li>Microprocessor-based system design by Ricardo Gutierrez-Osuna (<a href="http://courses.cs.tamu.edu/rgutier/ceg411_f01/">slides</a>), in particular <a href="http://courses.cs.tamu.edu/rgutier/ceg411_f01/l9.pdf">Lesson 9 - Exception processing</a></li>
<li>Motorola M68000 Family Programmer's Reference Manual <a href="https://www.nxp.com/docs/en/reference-manual/M68000PRM.pdf">PDF here</a></li>
</ul>
<h1 id="feedback">Feedback<a class="headerlink" href="#feedback" title="Permanent link">&para;</a></h1>
<p>Feel free to reach me on <a href="https://twitter.com/thedigicat">Twitter</a> if you have questions. The <a href="https://github.com/TheDigitalCatOnline/thedigitalcatonline.github.com/issues">GitHub issues</a> page is the best place to submit corrections.</p>
  </section>

  <section class="footer">
    <h1>Part 5 of the Exploring the Amiga series</h1>
    <div class="box">
      <h5>Previous articles</h5>
      <ul>
        <li><a href="/blog/2018/05/28/exploring-the-amiga-1/">Exploring the Amiga - Part 1</a></li>
        <li><a href="/blog/2018/05/28/exploring-the-amiga-2/">Exploring the Amiga - Part 2</a></li>
        <li><a href="/blog/2018/06/08/exploring-the-amiga-3/">Exploring the Amiga - Part 3</a></li>
        <li><a href="/blog/2018/06/14/exploring-the-amiga-4/">Exploring the Amiga - Part 4</a></li>
      </ul>
      
      <h5>Next articles</h5>
      <ul>
        <li><a href="/blog/2018/06/25/exploring-the-amiga-6/">Exploring the Amiga - Part 6</a></li>
        <li><a href="/blog/2019/02/19/exploring-the-amiga-7/">Exploring the Amiga - Part 7</a></li>
        <li><a href="/blog/2019/02/19/exploring-the-amiga-8/">Exploring the Amiga - Part 8</a></li>
      </ul>
    </div>
  </section>

  <section class="footer">
    <h1>Related Posts</h1>
    <div class="posts mini">
      <article class="card">
        <a href="/blog/2019/02/19/exploring-the-amiga-8/" class="image">
          <img src="/images/exploring-the-amiga-8.jpg" alt="exploring-the-amiga-8" />
        </a>
        <div class="card-body">
          <a href="/blog/2019/02/19/exploring-the-amiga-8/"><h2 class="card-title">Exploring the Amiga - Part 8</h2></a>
	  <p class="article-info">
            <time datetime="2019-02-19T14:00:00+01:00">Feb 19, 2019</time>
            <span class="fas fa-tags"></span>
            <a href="/categories/assembly/" class="tag">assembly</a>            <a href="/categories/amiga/" class="tag">amiga</a>            <a href="/categories/retroprogramming/" class="tag">retroprogramming</a>          </p>
        </div>
      </article>
      <article class="card">
        <a href="/blog/2019/02/19/exploring-the-amiga-7/" class="image">
          <img src="/images/exploring-the-amiga-7.jpg" alt="exploring-the-amiga-7" />
        </a>
        <div class="card-body">
          <a href="/blog/2019/02/19/exploring-the-amiga-7/"><h2 class="card-title">Exploring the Amiga - Part 7</h2></a>
	  <p class="article-info">
            <time datetime="2019-02-19T13:00:00+01:00">Feb 19, 2019</time>
            <span class="fas fa-tags"></span>
            <a href="/categories/assembly/" class="tag">assembly</a>            <a href="/categories/amiga/" class="tag">amiga</a>            <a href="/categories/retroprogramming/" class="tag">retroprogramming</a>          </p>
        </div>
      </article>
      <article class="card">
        <a href="/blog/2018/06/25/exploring-the-amiga-6/" class="image">
          <img src="/images/exploring-the-amiga-6.jpg" alt="exploring-the-amiga-6" />
        </a>
        <div class="card-body">
          <a href="/blog/2018/06/25/exploring-the-amiga-6/"><h2 class="card-title">Exploring the Amiga - Part 6</h2></a>
	  <p class="article-info">
            <time datetime="2018-06-25T13:00:00+01:00">Jun 25, 2018</time>
            <span class="fas fa-tags"></span>
            <a href="/categories/assembly/" class="tag">assembly</a>            <a href="/categories/amiga/" class="tag">amiga</a>            <a href="/categories/retroprogramming/" class="tag">retroprogramming</a>          </p>
        </div>
      </article>
      <article class="card">
        <a href="/blog/2018/06/14/exploring-the-amiga-4/" class="image">
          <img src="/images/exploring-the-amiga-4.jpg" alt="exploring-the-amiga-4" />
        </a>
        <div class="card-body">
          <a href="/blog/2018/06/14/exploring-the-amiga-4/"><h2 class="card-title">Exploring the Amiga - Part 4</h2></a>
	  <p class="article-info">
            <time datetime="2018-06-14T14:30:00+01:00">Jun 14, 2018</time>
            <span class="fas fa-tags"></span>
            <a href="/categories/assembly/" class="tag">assembly</a>            <a href="/categories/amiga/" class="tag">amiga</a>            <a href="/categories/retroprogramming/" class="tag">retroprogramming</a>          </p>
        </div>
      </article>
      <article class="card">
        <a href="/blog/2018/06/08/exploring-the-amiga-3/" class="image">
          <img src="/images/exploring-the-amiga-3.jpg" alt="exploring-the-amiga-3" />
        </a>
        <div class="card-body">
          <a href="/blog/2018/06/08/exploring-the-amiga-3/"><h2 class="card-title">Exploring the Amiga - Part 3</h2></a>
	  <p class="article-info">
            <time datetime="2018-06-08T12:30:00+01:00">Jun 8, 2018</time>
            <span class="fas fa-tags"></span>
            <a href="/categories/assembly/" class="tag">assembly</a>            <a href="/categories/amiga/" class="tag">amiga</a>            <a href="/categories/retroprogramming/" class="tag">retroprogramming</a>          </p>
        </div>
      </article>
      <article class="card">
        <a href="/blog/2018/05/28/exploring-the-amiga-2/" class="image">
          <img src="/images/exploring-the-amiga-2.jpg" alt="exploring-the-amiga-2" />
        </a>
        <div class="card-body">
          <a href="/blog/2018/05/28/exploring-the-amiga-2/"><h2 class="card-title">Exploring the Amiga - Part 2</h2></a>
	  <p class="article-info">
            <time datetime="2018-05-28T15:00:00+01:00">May 28, 2018</time>
            <span class="fas fa-tags"></span>
            <a href="/categories/assembly/" class="tag">assembly</a>            <a href="/categories/amiga/" class="tag">amiga</a>            <a href="/categories/retroprogramming/" class="tag">retroprogramming</a>          </p>
        </div>
      </article>
      <article class="card">
        <a href="/blog/2018/05/28/exploring-the-amiga-1/" class="image">
          <img src="/images/exploring-the-amiga-1.jpg" alt="exploring-the-amiga-1" />
        </a>
        <div class="card-body">
          <a href="/blog/2018/05/28/exploring-the-amiga-1/"><h2 class="card-title">Exploring the Amiga - Part 1</h2></a>
	  <p class="article-info">
            <time datetime="2018-05-28T14:00:00+01:00">May 28, 2018</time>
            <span class="fas fa-tags"></span>
            <a href="/categories/assembly/" class="tag">assembly</a>            <a href="/categories/amiga/" class="tag">amiga</a>            <a href="/categories/retroprogramming/" class="tag">retroprogramming</a>          </p>
        </div>
      </article>
      <article class="card">
        <a href="/blog/2019/03/04/motorola-68000-addressing-modes/" class="image">
          <img src="/images/mc68000.jpg" alt="mc68000" />
        </a>
        <div class="card-body">
          <a href="/blog/2019/03/04/motorola-68000-addressing-modes/"><h2 class="card-title">Motorola 68000: addressing modes</h2></a>
	  <p class="article-info">
            <time datetime="2019-03-04T22:30:00+01:00">Mar 4, 2019</time>
            <span class="fas fa-tags"></span>
            <a href="/categories/assembly/" class="tag">assembly</a>            <a href="/categories/m68000/" class="tag">M68000</a>          </p>
        </div>
      </article>
    </div>
  </section>



  <!-- </article> -->

						</div>
					</div>

				<!-- Sidebar -->
					<div id="sidebar">
<div class="inner">
    <!-- Menu -->
        <nav id="menu">
            <header class="major">
                <h2>Menu</h2>
            </header>
<ul>
    <li><a href="/index.html">Homepage</a></li>
    <li><a href="/pages/about.html">About</a></li>
    <li><a href="/archives/index.html">Archives</a></li>
</ul>        </nav>

    <!-- Section -->
        <section>
            <header class="major">
                <h2>Categories</h2>
            </header>
<ul class="list-clean">
    <li><a href="/category/programming/">Programming</a></li>
    <li><a href="/category/projects/">Projects</a></li>
    <li><a href="/category/retro/">Retro</a></li>
</ul>
        </section>

    <!-- Section -->
        <section>
            <header class="major">
                <h2>Feeds</h2>
            </header>
<ul class="list-clean">
    <li><a href="/atom.xml"><i class="fas fa-rss"></i> All posts</a></li>


    <li><a href="/category/retro/atom.xml"><i class="fas fa-rss"></i> All posts in category: Retro</a></li>
</ul>        </section>

    <!-- Section -->
        <section>
            <header class="major">
                <h2>Tags</h2>
            </header>
<ul class="list-inline list-clean" id="tags-side">
    <li class="tag font-size-3">
        <a title="Posts about algorithms" href="/categories/algorithms/">algorithms</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about amiga" href="/categories/amiga/">amiga</a>
    </li>
    <li class="tag font-size-4">
        <a title="Posts about AMQP" href="/categories/amqp/">AMQP</a>
    </li>
    <li class="tag font-size-3">
        <a title="Posts about architectures" href="/categories/architectures/">architectures</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about assembly" href="/categories/assembly/">assembly</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about AWS" href="/categories/aws/">AWS</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about C" href="/categories/c/">C</a>
    </li>
    <li class="tag font-size-4">
        <a title="Posts about Clojure" href="/categories/clojure/">Clojure</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about compilers" href="/categories/compilers/">compilers</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about concurrent programming" href="/categories/concurrent-programming/">concurrent programming</a>
    </li>
    <li class="tag font-size-3">
        <a title="Posts about cryptography" href="/categories/cryptography/">cryptography</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about decorators" href="/categories/decorators/">decorators</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about Django" href="/categories/django/">Django</a>
    </li>
    <li class="tag font-size-3">
        <a title="Posts about Docker" href="/categories/docker/">Docker</a>
    </li>
    <li class="tag font-size-3">
        <a title="Posts about Erlang" href="/categories/erlang/">Erlang</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about Flask" href="/categories/flask/">Flask</a>
    </li>
    <li class="tag font-size-1">
        <a title="Posts about functional programming" href="/categories/functional-programming/">functional programming</a>
    </li>
    <li class="tag font-size-3">
        <a title="Posts about generators" href="/categories/generators/">generators</a>
    </li>
    <li class="tag font-size-3">
        <a title="Posts about Git" href="/categories/git/">Git</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about HTTP" href="/categories/http/">HTTP</a>
    </li>
    <li class="tag font-size-4">
        <a title="Posts about infrastructure" href="/categories/infrastructure/">infrastructure</a>
    </li>
    <li class="tag font-size-4">
        <a title="Posts about M68000" href="/categories/m68000/">M68000</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about metaclasses" href="/categories/metaclasses/">metaclasses</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about metaprogramming" href="/categories/metaprogramming/">metaprogramming</a>
    </li>
    <li class="tag font-size-3">
        <a title="Posts about Notebook" href="/categories/notebook/">Notebook</a>
    </li>
    <li class="tag font-size-1">
        <a title="Posts about OOP" href="/categories/oop/">OOP</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about operating systems" href="/categories/operating-systems/">operating systems</a>
    </li>
    <li class="tag font-size-4">
        <a title="Posts about pelican" href="/categories/pelican/">pelican</a>
    </li>
    <li class="tag font-size-4">
        <a title="Posts about Pika" href="/categories/pika/">Pika</a>
    </li>
    <li class="tag font-size-4">
        <a title="Posts about Postage" href="/categories/postage/">Postage</a>
    </li>
    <li class="tag font-size-3">
        <a title="Posts about Postgres" href="/categories/postgres/">Postgres</a>
    </li>
    <li class="tag font-size-1">
        <a title="Posts about Python" href="/categories/python/">Python</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about Python2" href="/categories/python2/">Python2</a>
    </li>
    <li class="tag font-size-1">
        <a title="Posts about Python3" href="/categories/python3/">Python3</a>
    </li>
    <li class="tag font-size-3">
        <a title="Posts about RabbitMQ" href="/categories/rabbitmq/">RabbitMQ</a>
    </li>
    <li class="tag font-size-4">
        <a title="Posts about refactoring" href="/categories/refactoring/">refactoring</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about retroprogramming" href="/categories/retroprogramming/">retroprogramming</a>
    </li>
    <li class="tag font-size-4">
        <a title="Posts about RSA" href="/categories/rsa/">RSA</a>
    </li>
    <li class="tag font-size-1">
        <a title="Posts about Scala" href="/categories/scala/">Scala</a>
    </li>
    <li class="tag font-size-4">
        <a title="Posts about SSH" href="/categories/ssh/">SSH</a>
    </li>
    <li class="tag font-size-3">
        <a title="Posts about SSL" href="/categories/ssl/">SSL</a>
    </li>
    <li class="tag font-size-1">
        <a title="Posts about TDD" href="/categories/tdd/">TDD</a>
    </li>
    <li class="tag font-size-1">
        <a title="Posts about testing" href="/categories/testing/">testing</a>
    </li>
    <li class="tag font-size-3">
        <a title="Posts about versioning" href="/categories/versioning/">versioning</a>
    </li>
    <li class="tag font-size-4">
        <a title="Posts about video" href="/categories/video/">video</a>
    </li>
    <li class="tag font-size-2">
        <a title="Posts about WWW" href="/categories/www/">WWW</a>
    </li>
</ul>        </section>

    <!-- Section -->
        <section>
            <header class="major">
                <h2>Recent posts</h2>
            </header>
<div class="mini-posts">
    <article>
        <a href="/blog/2020/07/07/flask-project-setup-tdd-docker-postgres-and-more-part-3/" class="image"><img src="/images/flask-project-setup-tdd-docker-postgres-and-more-part-3.jpg" alt="flask-project-setup-tdd-docker-postgres-and-more-part-3" /></a>
        <p><strong>Flask project setup: TDD, Docker, Postgres and more - Part 3</strong> <a href="/blog/2020/07/07/flask-project-setup-tdd-docker-postgres-and-more-part-3/">Read</a></p> 
    </article>
    <article>
        <a href="/blog/2020/07/06/flask-project-setup-tdd-docker-postgres-and-more-part-2/" class="image"><img src="/images/flask-project-setup-tdd-docker-postgres-and-more-part-2.jpg" alt="flask-project-setup-tdd-docker-postgres-and-more-part-2" /></a>
        <p><strong>Flask project setup: TDD, Docker, Postgres and more - Part 2</strong> <a href="/blog/2020/07/06/flask-project-setup-tdd-docker-postgres-and-more-part-2/">Read</a></p> 
    </article>
    <article>
        <a href="/blog/2020/07/05/flask-project-setup-tdd-docker-postgres-and-more-part-1/" class="image"><img src="/images/flask-project-setup-tdd-docker-postgres-and-more-part-1.jpg" alt="flask-project-setup-tdd-docker-postgres-and-more-part-1" /></a>
        <p><strong>Flask project setup: TDD, Docker, Postgres and more - Part 1</strong> <a href="/blog/2020/07/05/flask-project-setup-tdd-docker-postgres-and-more-part-1/">Read</a></p> 
    </article>
</div>        </section>

    <!-- Section -->
        <section>
            <header class="major">
                <h2>Get in touch</h2>
            </header>
<ul class="contact">
    
    
    
    <li class="fa-twitter"><a href="https://twitter.com/thedigicat">Twitter</a></li>
    
    
    
    
    <li class="fa-github"><a href="https://github.com/TheDigitalCatOnline">GitHub</a></li>
    
</ul>        </section>

    <!-- Footer -->
        <footer id="footer">
            <p class="copyright">Editorial theme by: <a href="https://html5up.net">HTML5 UP</a>.</p>
            <p class="copyright">Cover picture by: <a href="https://pxhere.com/en/photo/1428515">An Min @ pxhere.com</a></p>
        </footer>

</div>					</div>

			</div>

		<!-- Scripts -->
			<script src="/theme/js/jquery.min.js"></script>
			<script src="/theme/js/browser.min.js"></script>
			<script src="/theme/js/breakpoints.min.js"></script>
            <script src="/theme/js/packed.js?fa89ff81"></script>

	</body>
</html>